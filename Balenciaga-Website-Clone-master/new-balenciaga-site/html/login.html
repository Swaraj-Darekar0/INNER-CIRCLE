<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log in | Balenciaga</title>

    <link rel="shortcut icon" href="../images/logos/favicon-48x48.png">

    <meta property="og:images" content="../images/more/ogimage.png">

    <!--css-->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/sample.css">

    <!--js-->
    <script src="../js/main.js"></script>

    <!--Ion-icons-->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

    <!--Google-icons-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>



<body>
    <header>
        <div class="header flex w-full px-20 py-10 border-b" id="header">
            <div class="menu-icon hidden col-5">
                <div class="w-fit">
                    <span id="open-icon" class="material-symbols-outlined">menu</span>
                    <span id="close-icon" class="material-symbols-outlined">close</span>
                </div>
            </div>

            <div class="menu col-5">
                <ul class="flex justify-start space-x-20">
                    <li class="slideToggle"><a>Shop</a>
                        <div class="subnav flex slideToggleContent">
                            <ul class="col-2 space-y-10">
                                <li>Ready to wear</li>
                                <li><a href="./products.html?category=jackets">Jackets</a></li>
                                <li><a href="./products.html?category=tshirts">T-shirts</a></li>
                                <li><a href="./products.html?category=pants">Pants</a></li>
                                <li><a href="./products.html?category=activewear">Activewear</a></li>
                            </ul>
                            <!-- <ul class="col-2 space-y-10">
                                <li>Shoes</li>
                                <li></li>
                                <li><a href="#">Sneakers</a></li>
                                <li><a href="#">Boots & Derbies</a></li>
                            </ul> -->
                            <ul class="col-2 space-y-10">
                                <li>Bags</li>
                                <!-- <li><a href="#">Bags & totes</a></li> -->
                                <li><a href="./products.html?category=backpacks">Backpacks</a></li>
                            </ul>
                            <!-- <ul class="col-2 space-y-10">
                                <li>Accessories</li>
                                <li></li>
                                <li><a href="#">Sunglasses</a></li>
                                <li><a href="#">Shocks</a></li>
                            </ul> -->
                            <ul class="col-2 space-y-10">
                                <li><a href="./products.html">VIEW ALL</a></li>
                            </ul>
                        </div>
                    </li>

                    <li><a href="./campaign.html">Campaign</a></li>

                    <li class="slideToggle"><a>Explore</a>
                        <div class="subnav flex slideToggleContent">
                            <ul class="col-2 space-y-10">
                                <li>Collections</li>
                                <li><a href="./summer23.html">Summer 23</a></li>
                                <li><a href="./spring23.html">Spring 23</a></li>
                            </ul>
                            <ul class="col-2 space-y-10">
                                <li>History</li>
                                <li><a href="./ristobalbalenciaga.html">Ristóbal Balenciaga</a></li>
                                <li><a href="./demnagvasalia.html">Demna Gvasalia</a></li>
                            </ul>
                        </div>
                    </li>
                    <li><a href="./contactus.html">Contact us</a></li>
                    <li class="hidden"><a href="./login.html">Log in</a></li>
                </ul>
            </div><!--menu-->

            <div class="logo col-2 text-center">
                <a href="../index.html" class="text-15">
                    <span class="font-bold">BALENCIAGA</span>
                </a>
            </div><!--logo-->

            <div class="setting col-5">
                <ul class="flex justify-end space-x-20">
                    <li class="flex dark-light-icon">
                        <span id="light-icon" class="material-symbols-outlined">light_mode</span>
                        <span id="dark-icon" class="material-symbols-outlined">dark_mode</span>
                    </li>
                    <li class="cart slideToggle">
                        <a class="cart-icon flex"><span class="material-symbols-outlined">work</span><span id="countInCart" class="flex">0</span></a>
                        <div class="subnav slideToggleContent">
                            <div class="cart-item-list">
                            </div><!--cart-item-list-->
                            <div class="cart-item flex cart-subtotal">
                                <h6>Subtotal </h6>
                                <h6>$ <span id="cartSubtotal">0</span></h6>
                            </div>
                            <div class="cart-viewdetail">
                                <a href="./cart.html">View details</a>
                            </div>
                        </div>
                    </li>
                    <li class="setting-login"><a href="./login.html">Log in</a></li>
                </ul>
            </div><!--setting-->
        </div>
    </header>



    <div class="container">

        <div class="login-content1 flex min-h-screen p-20">

            <form class="col-6 m-auto" id="loginForm">
                <button type="button" id="googleLoginBtn" class="black-button w-full mb-20">Sign in with Google</button>
                <div class="py-10 text-center">
                    <h6 class="text-center uppercase">OR</h6>
                </div>
                <div class="py-40 text-center">
                    <h5 class="text-center uppercase">Log in</h5>
                </div>

                <div class="form-row">
                    <label for="">Email *</label>
                    <input type="email" name="email" id="email" pattern="^([a-zA-Z0-9_\.\-\+]+)@([\da-zA-Z\.\-]+)\.([a-zA-Z\.]{2,12})$" maxlength="50" data-error-missing='*Please add your e-mail address, example: "john.smith@email.com"' data-error-length='3 50' data-error-parse='*Invalid email format. Please try again, example "john.smith@email.com".' placeholder="" required>
                    <div class="form-row-error"></div>
                </div>

                <div class="form-row">
                    <label for="">Password *</label>
                    <input type="password" name="password" id="password" pattern="^[a-zA-Z0-9]{6,30}$" maxlength="30" data-error-missing='*Please fill out a password in this field according to the security rules.' data-error-length='6 30' data-error-parse='*Incorrect password. Only letters and numbers are allow in this filed.' placeholder="" required>
                    <div class="form-row-error"></div>
                </div>

                <div class="form-row flex justify-between">
                    <a href="#" class="w-full underline text-right">Forgot password?</a>
                </div>

                <div class="form-row mt-40">
                    <input type="submit" class="black-button w-full" value="Send">
                </div>

                <div class="form-row text-center mt-40 mb-20">
                    <a href="./register.html" class="col-12 underline">Create a profile</a>
                </div>
            </form>
        </div><!--login-content1-->

    </div><!--container-->



    <footer class="border-t">
        <div class="footer grid grid-cols-5 gap-20px px-20 py-40">
            <div class="slideToggle">
                <h6 class="uppercase mb-10">Newsletter</h6>
                <ul class="slideToggleContent space-y-5">
                    <li><a href="#">Subscribe to our newsletter</a></li>
                </ul>
            </div>
            <div class="slideToggle">
                <h6 class="uppercase mb-10">Client services</h6>
                <ul class="slideToggleContent space-y-5">
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Track order</a></li>
                    <li><a href="#">Returns</a></li>
                    <li><a href="#">Delivery</a></li>
                    <li><a href="#">Payment</a></li>
                </ul>
            </div>
            <div class="slideToggle">
                <h6 class="uppercase mb-10">The company</h6>
                <ul class="slideToggleContent space-y-5">
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Careers - Design</a></li>
                    <li><a href="#">Legal</a></li>
                    <li><a href="#">Privacy policy and cookies</a></li>
                    <li><a href="#">World food programme</a></li>
                </ul>
            </div>
            <div class="slideToggle">
                <h6 class="uppercase mb-10">Connect</h6>
                <ul class="slideToggleContent space-y-5">
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Youtube</a></li>
                </ul>
            </div>
            <div class="slideToggle">
                <h6 class="uppercase mb-10">Boutiques</h6>
                <ul class="slideToggleContent space-y-5">
                    <li><a href="#">Find a store nearby</a></li>
                    <li><a href="#">Language: English</a></li>
                </ul>
            </div>
        </div><!--footer-->

        <div class="w-full border-t text-center p-10">
            <p>© Balenciaga</p>
        </div>
    </footer>



    <script>
        // Initialize Supabase client
        const SUPABASE_URL = 'https://xlhchehzuivgqulmbagp.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhsaGNoZWh6dWl2Z3F1bG1iYWdwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5OTEwMDYsImV4cCI6MjA2NzU2NzAwNn0.30mPdBWCkts7gW_EQ93Ilpa_qKvylrp5y6x1sZUUyAs';
        const supabase = Supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Google Login (OAuth)
        document.getElementById('googleLoginBtn').addEventListener('click', async () => {
            const { error } = await supabase.auth.signInWithOAuth({
                provider: 'google',
                options: {
                    redirectTo: window.location.origin + '/Balenciaga-Website-Clone-master/balenciaga/html/index.html' // Redirect after successful OAuth
                }
            });

            if (error) {
                alert('Error with Google login: ' + error.message);
            }
        });

        // Email/Password Login
        document.getElementById('loginForm').addEventListener('submit', async (event) => {
            event.preventDefault(); // Prevent default form submission

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            const { data, error } = await supabase.auth.signInWithPassword({
                email: email,
                password: password,
            });

            if (error) {
                alert('Login failed: ' + error.message);
            } else {
                alert('Login successful!');
                window.location.href = '../index.html'; // Redirect to main page
            }
        });

        // live validation and on submit
        //[array element, type, event]
        let arrOnEvent = [
            [document.querySelectorAll("input:not(input[type=checkbox], input[type=submit])"), "input", "keyup blur"]
        ];

        // Remove the call to onEvent to prevent conflicts
        // onEvent(arrOnEvent);
    </script>
</body>
</html>